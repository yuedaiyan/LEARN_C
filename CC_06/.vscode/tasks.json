{
  "version": "2.0.0",
  "tasks": [
    {
      // --- 任务 1：编译并运行 (Cmd+Shift+B 触发这个) ---
      "label": "编译并运行 C 程序",
      "type": "shell",
      // 注意：这里也统一改到了 c_build 目录，保持整洁
      "command": "gcc -g \"${file}\" -o \"${fileDirname}/c_build/${fileBasenameNoExtension}\" && \"${fileDirname}/c_build/${fileBasenameNoExtension}\"",
      "group": {
        "kind": "build",
        "isDefault": true // <--- 关键！把这个设为 true，快捷键就会运行它
      },
      "presentation": {
        "reveal": "always",
        "focus": true,
        "panel": "shared",
        "clear": true,
        "showReuseMessage": false // <--- 关键：设置为 false 就不显示[ *  终端将被任务重用，按任意键关闭。]
      },
      "problemMatcher": "$gcc"
    },
    {
      // --- 任务 2：只编译 (调试器 F5 专用) ---
      "type": "cppbuild",
      "label": "C/C++: gcc 生成活动文件", // 这个名字不能改，必须和 launch.json 里的 preLaunchTask 一样
      "command": "/usr/bin/gcc",
      "args": [
        "-fcolor-diagnostics",
        "-fansi-escape-codes",
        "-g",
        "${file}",
        "-o",
        "${fileDirname}/c_build/${fileBasenameNoExtension}"
      ],
      "options": {
        "cwd": "${fileDirname}"
      },
      "problemMatcher": ["$gcc"],
      "group": {
        "kind": "build",
        "isDefault": false // <--- 关键！把这个设为 false，防止它抢快捷键
      }
    }
  ]
}
